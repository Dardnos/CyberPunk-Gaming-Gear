<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>CyberPunk Store</title>
    <link rel="icon" th:href="@{images/logo.png}">
    <link rel="stylesheet" th:href="@{~/css/style.css}"/>
    <link rel="stylesheet" th:href="@{~/css/cart.css}"/>
    <link rel="stylesheet" th:href="@{~/css/product-category-card.css}"/>
</head>

<body>

<header th:replace="~{components/header}"></header>

<main>

        <section class="progressbar">
                <a class="progress-bubble1 active">Products</a>
                <a class="progress-bubble2">Shipping</a>
                <a class="progress-bubble3">Payment</a>
        </section>

        <section class="cart-section active sections">
            <h1 class="title">Shopping Cart</h1>
            <a class="checkout-button red-button" href="#">Checkout</a>
            <section class="product-category-card">
                <h2 class="card-heading">Cart <span>Products</span></h2>
                <div class="card-container" >
                    <div class="card-box" th:each="quantity : ${quantities}" th:product-id="@{${quantity.product.id}}">
                        <picture>
                            <source media="(min-width: 2048px)" th:srcset="@{~/images/products/2048w/{image} (image=${quantity.product.imageWebp2048})}">
                            <source media="(min-width: 1024px)" th:srcset="@{~/images/products/1024w/{image} (image=${quantity.product.imageWebp1024})}">
                            <source media="(min-width: 512px)" th:srcset="@{~/images/products/512w/{image} (image=${quantity.product.imageWebp512})}">
                            <img th:src="@{~/images/products/{image} (image=${quantity.product.image})}" th:alt="@{Picture of {name} (name=${quantity.product.name})}">
                        </picture>
                        <div class="card-layer">
                            <h3 th:text="${quantity.product.name}"></h3>
                            <p>Amount Ordered: <span th:text="${quantity.getAmount()}"></span></p>
                            <button class="red-button remove-from-cart-button" th:data-product-id="${quantity.product.id}">Remove from Cart</button>
                            <a class="red-button" th:href="@{/product/{id} (id=${quantity.product.id})}">Go to product</a>
                        </div>
                    </div>
                </div>
            </section>
        </section>

        <section class="shipping-section sections">

            <h2 class="title">Shipping</h2>
            <a class="complete-order red-button" href="#">Complete order</a>
            <p class="product-about-page-description">Shipping information</p>

            <form class="details-filling-form">

                <label for="name" class="input-field-label">
                    <input class="input-field" id="name" onchange="checkValidName()" type="text" name="username" autocomplete="off" required placeholder="Name">
                </label>
                <label for="surName" class="input-field-label">
                    <input class="input-field" id="surName" onchange="checkValidName()" type="text" name="username" autocomplete="off" required placeholder="Last Name">
                </label>
                <label class="input-field-label">
                    <input class="input-field" placeholder="Address" onchange="checkValidAdress">
                </label>
                <label class="input-field-label">
                    <input class="input-field" placeholder="Card Number" onchange="checkNumber">
                </label>
                <label class="input-field-label">
                    <input class="input-field" placeholder="Phone Number" onchange="checkNumber">
                </label>
                <label class="input-field-label">
                    <input class="input-field" placeholder="Coupon Code" onchange="checkNumber">
                </label>
            </form>

        </section>

        <section class="payment-section sections">
            <h1 class="title">Order Complete!</h1>
            <p class="product-about-page-description">Thank you for ordering from us! We hope to see you soon</p>
            <section class="product-category-card">
                <h2 class="card-heading">Cart <span>Products</span></h2>
                <div class="card-container" >
                    <a class="card-box" th:each="quantity : ${quantities}" th:href="@{/product/{id} (id=${quantity.product.id})}">
                        <img th:src="@{/images/products/{image} (image=${quantity.product.image})}" th:alt="@{Picture of a {name} (name=${quantity.product.name})}" alt="bought products">
                        <div class="card-layer">
                            <h3 th:text="${quantity.product.name}"></h3>
                            <h3 th:text="${quantity.getAmount()}"></h3>
                            <i class='bx bx-info-circle'></i>
                        </div>
                </div>
            </section>
        </section>

</main>

<footer th:replace="~{components/footer}"></footer>
<script th:src="@{~/js/cart-and-checkout.js}" defer></script>

</body>
</html>