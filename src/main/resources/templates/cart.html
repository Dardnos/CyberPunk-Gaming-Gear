<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="description" content="Cyberpunk Gaming Gear is a cutting edge company specializing in the most advanced cyberpunk gaming gadgets available. From headsets to keyboards, mice to controllers, we have everything you need to get the most out of your gaming experience. Our products feature the latest in cyberpunk technology, with sleek designs and advanced capabilities. Experience the power of cyberpunk gaming with us today! Let us take your gaming to the next level.">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>CyberPunk Store</title>
    <link rel="icon" th:href="@{~/images/logo.webp}">
    <link rel="stylesheet" th:href="@{~/css/style.css}"/>
    <link rel="stylesheet" th:href="@{~/css/cart.css}"/>
</head>

<body>

<header th:replace="~{components/header}"></header>

<main>
    <section class="sections">
        <div class="progressbar">
                <p class="cart-bar active" >Cart</p>
                <p class="checkout-bar">Checkout</p>
                <p class="complete-bar">Complete</p>
        </div>

        <div class="cart-section active">
            <h2>Shopping Cart</h2>
            <section th:replace="~{components/cart-products}"></section>
            <button class="checkout-button button" hidden>Checkout</button>
        </div>

        <div class="checkout-section">
            <form class="form-section" method="get" th:action="@{/cart/confirm}">
                <h2>Checkout</h2>
                <h3>Shipping information</h3>
                <p id="p-name" hidden>Invalid name, needs to be 2 or more characters and only contain letters</p>
                <p id="p-surname" hidden>Invalid surname, needs to be 2 or more characters and only contain letters</p>
                <p id="p-address" hidden>Invalid address, needs to be 2 or more characters and only contain letters and numbers</p>
                <p id="p-cardNumber" hidden>Invalid card number, needs to be 16 characters and can only contain numbers</p>
                <p id="p-phone" hidden>Invalid phone number, needs to be 8 characters and can only contain numbers</p>
                <p id="p-coupon" hidden>Invalid coupon, needs to be 2 or more characters and can only contain letters and numbers</p>
                <div class="details-filling-form">
                    <div class="div-column">
                        <label for="name" class="input-field-label">Name</label>
                        <input class="input-field" id="name" onchange="checkInfo()" type="text" name="username" placeholder="Name" required>
                    </div>
                    <div class="div-column">
                        <label for="surname" class="input-field-label">Last Name</label>
                        <input class="input-field" id="surname" onchange="checkInfo()" type="text" name="username" placeholder="Last Name" required>
                    </div>
                    <div class="div-column">
                        <label class="input-field-label" for="address">Address</label>
                        <input class="input-field" id="address" onchange="checkInfo()" type="text" name="username" placeholder="Address" required>
                    </div>
                    <div class="div-column">
                        <label class="input-field-label" for="cardNumber">Card Number</label>
                        <input class="input-field" id="cardNumber" onchange="checkInfo()" type="text" name="username" placeholder="Card Number" required>
                    </div>
                    <div class="div-column">
                        <label class="input-field-label" for="phone">Phone Number</label>
                        <input class="input-field" id="phone" placeholder="Phone Number" type="text" onchange="checkInfo()" required>
                    </div>
                    <div class="div-column">
                        <label class="input-field-label" for="coupon">Coupon Code</label>
                        <input class="input-field" id="coupon" placeholder="Coupon Code" type="text" onchange="checkInfo()" required>
                    </div>
                </div>
                <button class="button" type="submit" id="completeOrder"  disabled>Complete order</button>
            </form>
        </div>

        <div class="complete-section">
            <h2>Order Complete!</h2>
            <p class="product-about-page-description">Thank you for ordering from us! We hope to see you soon</p>
            <section class="product-category-card">
                <h3 class="card-heading">Cart Products</h3>
                <div class="card-container" >
                    <a class="card-box" th:each="quantity : ${quantities}" th:href="@{/product/{id} (id=${quantity.product.id})}">
                        <img th:src="@{/images/products/{image} (image=${quantity.product.image})}" th:alt="@{Picture of a {name} (name=${quantity.product.name})}" alt="bought products">
                        <div class="card-layer">
                            <h3 th:text="${quantity.product.name}"></h3>
                            <p th:text="${quantity.getAmount()}"></p>
                        </div>
                    </a>
                </div>
            </section>
        </div>
    </section>
</main>

<footer th:replace="~{components/footer}"></footer>
<script th:src="@{~/js/cart-and-checkout.js}" defer></script>

</body>
</html>